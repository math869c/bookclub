<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Bøger vi har læst</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="layout/styles/layout.css" rel="stylesheet">
    <style>
        .full_width {
            display: block;
            width: 100%;
            max-width: 600px;
            /* Keeps it readable */
            margin: 0 auto 30px;
            /* Center and add spacing */
        }
    </style>
</head>

<body>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<div class="wrapper row2">
    <nav id="mainav" class="hoc clear">
        <!-- ################################################################################################ -->
        <ul class="clear">
            <li class="active"><a href="index.html">Home</a></li>
            <li><a href="books.html">Vores Bøger</a></li>
            <li><a class="drop" href="#">Yndlings Bøger</a>
                <ul>
                    <li><a href="books/de_bedste.html">Højeste Ratings</a></li>
                    <li><a href="books/nikolajs_yndlings.html">Nikolaj</a></li>
                    <li><a href="books/Tokes_yndlings.html">Toke</a></li>
                    <li><a href="books/Marius_yndlings.html">Marius</a></li>
                    <li><a href="books/Mathias_yndlings.html">Mathias</a></li>
                </ul>
            </li>
            <li><a class="drop" href="#">Bøger Valgt Af</a>
                <ul>
                    <li><a href="personer/Nikolaj.html">Nikolaj</a></li>
                    <li><a href="personer/Toke.html">Toke</a></li>
                    <li><a href="personer/Marius.html">Marius</a></li>
                    <li><a href="personer/Mathias.html">Mathias</a></li>
                </ul>
            </li>
        </ul>
        <!-- ################################################################################################ -->
    </nav>
</div>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->

    <!-- Book List Section -->
    <div class="wrapper row4">
        <div class="hoc container clear">
            <h2 class="center btmspace-80">Books We've Read</h2>
            <ul id="book-list" class="book-grid nospace elements">
                <!-- Books load here -->
            </ul>
            <div class="clear"></div>
        </div>
    </div>

    <!-- Footer -->
    <div class="wrapper row5">
        <div id="copyright" class="hoc clear">
            <p class="fl_left">Copyright &copy; 2025 - All Rights Reserved - Pedggie</p>
        </div>
    </div>

    <!-- JS: Load books.json and render -->
    <script>
        fetch('data/books.json')
            .then(res => res.json())
            .then(books => {
                const container = document.getElementById('book-list');

                books.forEach(book => {
                    const li = document.createElement('li');
                    li.className = 'full_width';

                    // Calculate the average rating
                    const avgRating = (book.ratings.reduce((sum, rating) => sum + rating, 0) / book.ratings.length).toFixed(1);

                    li.innerHTML = `
                    <article class="book-card">
                        <figure>
                        <img src="${book.image}" alt="${book.title}" class = "uniform-book-image">
                        <figcaption><a href="books_html/${book.html_link}">${book.title} &raquo;</a></figcaption>
                        </figure>
                        <div class="txtwrap">
                        <h6 class="heading">${book.title}</h6>
                        <p><strong>Gns. rating:</strong> ${avgRating}/10</p>
                        </div>
                    </article>
                    `;

                    container.appendChild(li);
                });
            });
    </script>
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<!-- ################################################################################################ -->
<a id="backtotop" href="#top"><i class="fa fa-chevron-up"></i></a>

    <script src="layout/scripts/jquery.min.js"></script>
    <script src="layout/scripts/jquery.backtotop.js"></script>
    <script src="layout/scripts/jquery.mobilemenu.js"></script>
</body>

</html>